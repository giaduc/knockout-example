<!DOCTYPE html>
<html>

<head>
    <script src="../knockout.js"></script>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
        crossorigin="anonymous">
    <link rel="stylesheet" href="../style/main.css">
</head>

<body>
    <div class="list-group">
        <div class="list__item">
            <a href="../MyFirstKOApp.html" class="btn btn--3d btn--warning">
                <i class="fas fa-arrow-left"></i>
            </a>
        </div>
    </div>

    <div class="container">
        <table>
            <thead>
                <tr>
                    <th>First name</th>
                    <th>Last name</th>
                    <th></th>
                </tr>
            </thead>
            <tbody data-bind="foreach: people">
                <tr>
                    <td data-bind="text: firstName"></td>
                    <td data-bind="text: lastName"></td>
                    <td><button class="btn btn--danger" data-bind="click: $parent.removePerson">Remove</button></td>
                </tr>
            </tbody>
            <tfoot>
                <th></th>
                <th></th>
                <th><button class="btn btn--success" data-bind="click: addPerson">Add person</button></th>
            </tfoot>
        </table>

    </div>

    <script type="text/javascript">
        function viewModel() {
            const self = this;

            self.people = ko.observableArray([{
                    firstName: 'Bert',
                    lastName: 'Bertington'
                },
                {
                    firstName: 'Charles',
                    lastName: 'Charlesforth'
                },
                {
                    firstName: 'Denise',
                    lastName: 'Dentiste'
                }
            ]);

            self.addPerson = function () {
                self.people.push({
                    firstName: "First name at " + new Date().getMilliseconds(),
                    lastName: "Last name at " + new Date().getMilliseconds()
                })
            }

            self.removePerson = function () {
                self.people.remove(this);
            }
        }

        ko.applyBindings(new viewModel());
    </script>

</body>

</html>