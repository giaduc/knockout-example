<!DOCTYPE html>
<html>
<head>
    <script src="../knockout-3.5.0rc.debug.js"></script>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>

    <table>
        <thead>
            <tr>
                <th>Id</th>
                <th>Name</th>
                <th>Balance</th>
            </tr>
        </thead>
        <tbody>
        <tbody data-bind="foreach: Accounts">
            <tr>
                <td data-bind="text: Id"></td>
                <td data-bind="text: Name"></td>
                <td data-bind="text: Balance"></td>
            </tr>

        </tbody>
        <button data-bind="click: addAcount">Reserve another seat</button>
        <span data-bind="text: totalBalance"></span>

    </table>


<script>

    function Account(id, name, balance) {
        this.Id = id;
        this.Name = name;
        this.Balance = balance;
    }

    function AccountModelView() {
        var a1 = new Account(1, "anhnt", 10000)
        var a2 = new Account(2, "anhnd", 20000)
        var a3 = new Account(3, "Anh3", 20000)


        this.Accounts = ko.observableArray([a1, a2, a3])

        this.addAcount = function () {
            this.Accounts.push(a3);
        }

        this.totalBalance = ko.computed(function () {
            var total = 0;
            for (var i = 0; i < this.Accounts().length; i++)
                total += this.Accounts()[i].Balance;
            return total;
        })

    }

    ko.applyBindings(AccountModelView);
</script>
</body>
</html>